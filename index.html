<!doctype html>
<html>
    
    <head>
        <title>Reorder Column</title>
        <link rel="stylesheet" href="Content/bootstrap.min.css">
        <link rel="stylesheet" href="Content/reorder-app.css">
        <script src="Scripts/jquery-1.9.1.min.js"></script>
        <script src="Scripts/jquery-ui.min.js"></script>
        <script src="Scripts/bootstrap.min.js"></script>
        <script src="Scripts/angular.min.js"></script>
        <script src="Scripts/angular-ui.min.js"></script>
        <script src="app.js"></script>
    </head>
    
    <body data-ng-app="reorder-app" style="width:500px">
        <div data-ng-controller="controller" class="container">
            <div class="row">
                <h2>Reorder List Columns</h2>
                <hr>
            </div>
            <div class="row">
                <form class="form-horizontal">
                    <div class="form-group">
                        <label for="selected-list" class="control-label">List</label>
                        <select id="selected-list" ng-model="selectedList" class="form-control" ng-options="list as list.Title for list in allList"></select>
                    </div>
                    <div class="form-group">
                        <label for="selected-content-type" class="control-label">Content Type</label>
                        <select id="selected-content-type" ng-model="selectedList.selectedContentType" data-ng-change="contentTypeOnchange(selectedList.selectedContentType)"
                        class="form-control" ng-options="contentType as contentType.Name for contentType in selectedList.ContentTypes.results"></select>
                    </div>
                </form>
            </div>
            <div class="row">
                <div class="alert alert-{{message.category}}" data-ng-show="message.category" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>{{message.text}}</div>
            </div>
            <div class="row" data-ng-show="selectedList.selectedContentType.Fields.length > 0">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Column</th>
                            <th>Type</th>
                            <th>Position from Top</th>
                        </tr>
                    </thead>
                    <tbody ui:sortable ng:model="selectedList.selectedContentType.Fields">
                        <tr ng:repeat="field in selectedList.selectedContentType.Fields" class="item" style="cursor: move;">
                            <td>{{field.Title}}</td>
                            <td>{{field.TypeDisplayName}}</td>
                            <td>{{$index + 1}}</td>
                        </tr>
                    </tbody>
                </table>
                <a href="" class="btn btn-primary" data-ng-click="applyOrder(selectedList.selectedContentType.Fields)">APPLY</a>
            </div>
        </div>
    </body>

</html>